# 更新履歴

## 2025-08-25 - データ整合性とユーザビリティの大幅改善

### データ整合性とユーザビリティの向上
- **巻き戻り問題の解決**: バックアップ後に作成されたページがエクスポート時に失われる問題を修正
- **変更の永続化**: エクスポート後の変更が自動的にキャッシュに保存され、ページリロード後も保持
- **競合解決の簡素化**: 同時編集時の確認ダイアログを削除し、自動的にTaskflow変更を優先
- **部分的な更新**: Cosense側で追加されたメモや説明文を保持しつつ、タスク管理情報のみを更新

### 技術的な改善
- 2段階同期システムの実装（バックアップ優先 + 個別ページ取得）
- originalJsonとlocalStorageキャッシュの自動同期
- MergeManagerによる変更履歴の適切な管理
- レート制限対応の個別ページAPI実装

### 影響範囲
- `js/main.js`: 巻き戻り防止とキャッシュ更新機能
- `js/export.js`: エクスポート後の永続化処理
- `js/merge-manager.js`: 変更履歴の自動管理
- `js/scrapbox-api.js`: 個別ページ取得API

## 今後の予定

- タスク作成ページとの連携強化
- パフォーマンス最適化
- UI/UXの継続的改善